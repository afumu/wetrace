# 联系人管理

WeTrace 提供完整的联系人管理功能，支持浏览、筛选、搜索和导出联系人信息。

## 进入联系人页面

点击左侧导航栏的「联系人」进入联系人管理页面。页面顶部为搜索和筛选区域，下方为联系人列表。

## 联系人列表

### 联系人卡片

每个联系人以卡片形式展示，包含以下信息：

- **头像**：联系人的微信头像
- **显示名称**：优先显示备注名，其次显示昵称，最后显示微信 ID
- **类型标签**：以彩色标签标识联系人类型
  - 绿色「好友」：私人好友
  - 蓝色「群聊」：群聊会话
  - 橙色「公众号」：公众号
- **微信号**：如果联系人设置了微信号，会显示在名称下方
- **昵称**：当显示名称为备注名时，会额外显示原始昵称
- **微信 ID**：卡片右侧显示微信 ID（过长时会截断）

## 按类型筛选

联系人列表上方提供三个筛选标签页，每个标签页后面会显示对应类型的数量：

| 标签 | 说明 |
|------|------|
| 全部 | 显示所有联系人 |
| 私人好友 | 仅显示好友类型的联系人 |
| 群聊 | 仅显示群聊类型的联系人 |

点击对应标签即可切换筛选，当前选中的标签会高亮显示。

## 搜索联系人

页面顶部提供搜索功能，支持按以下字段搜索：

- 昵称
- 备注名
- 微信号

### 操作步骤

1. 在搜索框中输入关键词
2. 点击「搜索」按钮或按回车键执行搜索
3. 列表将刷新为匹配的联系人
4. 页面顶部显示匹配的联系人总数
5. 清空搜索框并再次搜索可恢复完整列表

> 搜索和类型筛选可以组合使用。例如先搜索关键词，再点击「群聊」标签，即可查看名称中包含该关键词的所有群聊。

## 导出联系人

页面右上角提供「导出」按钮，支持将联系人列表导出为文件。

### 支持的导出格式

| 格式 | 说明 |
|------|------|
| CSV | 逗号分隔的文本文件，可用 Excel 或其他表格软件打开。文件包含 UTF-8 BOM 标记，确保中文正确显示 |
| XLSX | Excel 格式文件，带有加粗表头和合适的列宽设置 |

### 导出字段

导出文件包含以下列：

| 列名 | 说明 |
|------|------|
| 微信ID | 联系人的唯一标识 |
| 微信号 | 联系人设置的微信号 |
| 昵称 | 联系人的微信昵称 |
| 备注 | 你为联系人设置的备注名 |
| 是否好友 | 显示「是」或「否」 |

### 操作步骤

1. 点击页面右上角的「导出」按钮
2. 在弹出的下拉菜单中选择「导出 CSV」或「导出 XLSX」
3. 浏览器将自动下载文件，文件名格式为 `contacts_export_日期.csv` 或 `.xlsx`

> 如果当前有搜索关键词，导出的将是搜索结果对应的联系人，而非全部联系人。
